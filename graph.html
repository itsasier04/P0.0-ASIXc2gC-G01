<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <title>Diagrama d'Arquitectura Definitiu</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 20px; background-color: #f9f9f9; }
        .mermaid { margin: 20px auto; max-width: 1200px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); padding: 20px; background-color: #fff; }
    </style>
</head>
<body>

    <div class="mermaid">
        graph TD
            classDef internetStyle fill:#E0F7FA,stroke:#00BCD4,stroke-width:2px;
            classDef routerStyle fill:#BBDEFB,stroke:#2196F3,stroke-width:3px,color:#000;
            classDef dmzNetworkStyle fill:#FFEBEE,stroke:#F44336,stroke-width:2px,color:#000;
            classDef intranetNetworkStyle fill:#E8F5E9,stroke:#4CAF50,stroke-width:2px,color:#000;
            classDef serverStyle fill:#FFFDE7,stroke:#FFC107,stroke-width:1px,color:#000;
            classDef clientStyle fill:#F3E5F5,stroke:#9C27B0,stroke-width:1px,color:#000;

            subgraph Internet ["â˜ï¸ Internet (Xarxa default)"]
                INET(Internet)
                class INET internetStyle;
            end
            
            subgraph Router ["ðŸ›¡ï¸ Router / Serveis Centrals"]
                RTR("ðŸ›¡ï¸ R-N01 (Router)\nenp1s0: DHCP (NAT)\nenp2s0: 192.168.10.1 (G1)\nenp3s0: 192.168.110.1 (G1a)\nServeis: NAT, DHCP, DNS, Firewall")
                class RTR routerStyle;
            end
            
            subgraph DMZ ["ðŸŒ Xarxa DMZ (G1a) - 192.168.110.0"]
                WEB["ðŸ–¥ï¸ W-N01 (Servidor Web)\nIP: 192.168.110.10"]
                FTP["ðŸ“ F-N01 (Servidor FTP)\nIP: 192.168.110.11"]
                class WEB serverStyle;
                class FTP serverStyle;
                class DMZ dmzNetworkStyle;
            end
            
            subgraph Intranet ["ðŸ  Xarxa INTRANET (G1) - 192.168.10.0"]
                BBDD[("ðŸ›¢ï¸ B-N01 (Servidor BBDD)\nIP: 192.168.10.10")]
                C_LIN["ðŸ§ Client Linux\nIP: 192.168.10.100 (DHCP)"]
                C_WIN["ðŸ’» Client Windows\nIP: (DHCP)"]
                class BBDD serverStyle;
                class C_LIN clientStyle;
                class C_WIN clientStyle;
                class Intranet intranetNetworkStyle;
            end

            INET --- RTR
            RTR -- "Trafic filtrat" --> DMZ
            RTR -- "Trafic filtrat" --> Intranet

            WEB -.->|Flux MySQL Port 3306| BBDD
            C_LIN -.->|Flux FTP Ports 20 21| FTP
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>

</body>
</html>